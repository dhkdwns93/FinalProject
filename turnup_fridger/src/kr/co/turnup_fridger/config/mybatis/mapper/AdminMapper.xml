<?xml version="1.0" encoding="UTF-8"?>
<!-- /**
 (Mapper)adminMapper
작성자 :  김경혜
최초 작성일 170627
변경이력 
*/ -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="kr.co.turnup_fridger.config.mybatis.mapper.AdminMapper">
	
	<sql id="select-admin-sql">
		SELECT login_id, login_pw, admin_name,
				admin_tel, admin_email, admin_authority 
		FROM admin
	</sql>
	
	<resultMap type="admin" id="admin-resultmap">
		<id column="login_id" property="loginId"/>
		<result column="login_pw" property="loginPw"/>
		<result column="admin_name" property="adminName"/>
		<result column="admin_tel" property="adminTel"/>
		<result column="admin_email" property="adminEmail"/>
		<result column="admin_authority" property="adminAuthority"/>		
	</resultMap>

	<!-- 	int insertAdmin(Admin admin); -->
	<!-- 관리자 등록하기_하나의 관리자 정보를 입력 -->
	<insert id="insertAdmin" parameterType="admin">
	INSERT INTO admin VALUES(#{loginId},#{loginPw},#{adminName},
										#{adminTel},#{adminEmail},#{adminAuthority})	
	</insert>
	
	<!-- 	int updateAdmin(Admin admin); -->
	<!--  (관리자)관리자개인정보 수정하기-권한제외_하나의 관리자 정보를 수정-->
	<update id="updateAdmin" parameterType="admin">
	UPDATE admin
	SET login_pw=#{loginPw},
		admin_name=#{adminName},
		admin_tel=#{adminTel},
		admin_email=#{adminEmail}
	WHERE login_id=#{loginId}
	</update>
	

	<!-- 	int updateAuthority(String authority); -->
	<!-- 	(마스터관리자)관리자권한 수정하기_하나의 관리자 권한을 수정 -->
	<update id="updateAuthority" parameterType="admin">
	UPDATE admin
	SET admin_authority=#{adminAuthority}
	WHERE login_id=#{loginId}
	</update>
	
	
	<!-- 	int deleteAdminById(String loginId); -->
	<!-- 	 (마스터관리자)관리자 탈퇴시키기_하나의 관리자정보를 삭제 -->
	<delete id="deleteAdminById" parameterType="int">
	DELETE FROM admin WHERE login_id=#{value}
	</delete>
	
	
	<!-- 	List<Admin> selectAdminList(); -->
	<!-- 	전체관리자 등록정보 조회하기. -->
	<select id="selectAdminList" resultMap="admin-resultmap">
		<include refid="select-admin-sql"/>
	</select>
	

	<!-- 	Admin selectAdminById(String loginId); -->
	<!-- 	 * (관리자)관리자 로그인하기 & 관리자 개인정보 수정하기 _loginId를 매개변수로 받아 하나의 관리자 정보를 조회.-->
	<select id="selectAdminById" parameterType="String" resultMap="admin-resultmap">
		<include refid="select-admin-sql"/>
		WHERE login_id=#{value}
	</select>

</mapper>